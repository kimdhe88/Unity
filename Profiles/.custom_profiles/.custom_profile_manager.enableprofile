customProfileHome=${HOME}/.custom_profiles
toolsPath=${customProfileHome}/.tools
source ${toolsPath}

init(){
  profileName=${1}
  if [ -z "${profileName}" ]; then
    error_print "Enter the profile name you want to enable."
    return ${error}
  fi

  nodePath=${customProfileHome}/node/${profileName}

  if [ ! -d "${nodePath}" ]; then
    error_print "${profileName} profile is not in the list."
    return ${error}
  fi

  return ${success}
}

enableReplace(){
  enablePath=${nodePath}/enable
  printf "1" > ${enablePath}

  if [ ! -f ${enablePath} ]; then
    error_print "The status file creation failed."
    return ${error}
  fi

  currentStatus=$(cat ${enablePath})

  if [ ${currentStatus} -ne "1" ];then
    error_print "${profileName} profile enable failed."
    return ${error}
  fi

  return ${success}
}

main(){
   function_call init ${1}
   function_call enableReplace

   echo ""
   echo "[${profileName}] profile has been enabled."
   echo ""
}

main ${1}
